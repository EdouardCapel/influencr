
<!-- Dsplay the page in a grid 2 columns desktop / 1 column mobile-->
<div id="display-grid">

<!-- MENU DISPLAY -->

  <!-- Menu -->
  <div class="navbar-influencr menu-container fixed-top">

    <!-- Righ Navigation for desktop -->
    <div class="menu hidden">

      <!-- Link list -->
      <%= link_to "Logout", destroy_user_session_path, method: :delete, class: "menu-item" %>
      <h2>|</h2>
      <%= link_to "My Influencers", ".bd-example-modal-lg", "data-toggle" => "modal", class: "menu-item" %>
    </div>

    <!-- Logo - Clickable far right -->
    <div id="menu-logo-container"><%= image_tag "Logo.svg", height: 60 %></div>

  </div>

<!-- INDEX DISPLAY -->

 <!-- Container Left Side -->
  <div class="bubble-container">
    <% @state_array.each do |state| %>

      <!-- Going through all Medium from State to diplay in a wrapper -->
      <div class="bubble-wrapper" data-target-id="medium<%= state.medium.id %>">

        <!-- Storing the format in a CSS class style -->
        <div class='bubble <%=state.medium.format.type_of%>'>

          <!-- Displaying Influencer Name for all media format in a CSS Title class -->
          <!-- Inner-round Div = Curve inner corner top right of bubbles -->
          <div class="title-top-bar"> <div id="inner-round"></div> <h2 class="bubble-influencer"> <%= state.medium.influencer.name %> </h2> </div>

          <!-- Display different content for Format type -->

          <!-- ARTICLE-->

          <% if state.medium.format.type_of == "article" %>
            <div class="icon-container"><i class="far fa-file-alt"></i></div>
            <h4 class="bubble-title"> <%= state.medium.title %> </h4>
            <div class="content">
              <p> Dispaly Count: <%= state.display_count %> </p>
              <p> <%= state.medium.content.first(100) if state.medium.content %> </p>
            </div>
          <!-- TWEET-->
          <% elsif state.medium.format.type_of == "tweet" %>
            <div class="icon-container"><i class="fab fa-twitter"></i></div>
            <h4 class="bubble-title"> 1 new tweet </h4>
            <div class="content">
              <h2>Tweet</h2>
              <p> <%= state.medium.content if state.medium.content %> </p>
            </div>
          <!-- PODCAST-->
          <% elsif state.medium.format.type_of == "podcast" %>
            <div class="icon-container"><i class="fas fa-headphones"></i></div>
            <h4 class="bubble-title"><%= state.medium.title %></h4>
            <div class="content"> <h3>Podcast</h3> </div>
          <!-- VIDEO-->
          <% elsif state.medium.format.type_of == "video" %>
            <div class="icon-container"><i class="fas fa-tv"></i></div>
            <h4 class="bubble-title"><%= state.medium.title %></h4>
            <div class="content"> <h3>Video</h3> </div>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>

  <!-- INFLUENCER'S MODAL -->

  <div class="modal bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">

        <div class="modal-container">

          <div class="sidebar">
            <% @influencers.each do | influencer| %>
              <h3><%=link_to influencer.name, influencer_path(influencer), :class => "dark", remote: true %></h3>
            <% end %>
          </div>

          <div class="modal-main">

            <%= render partial: 'influencers/influencer_modal' %>

          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- RIGHT SIDE DISPLAY -->

  <div class="window-container ">
    <% @state_array.each do |state| %>
      <div class="bubble-right" id="medium<%= state.medium.id %>">
        <div class="title-top-bar top-bar-nav bottom-border">
          <p class="close-button">close</p>
        </div>
        <div class="content article-text-style">
          <h3 class="title_styling"><%= state.medium.title %></h3>
          <h3 class="influencer_name_styling"><%= state.medium.influencer.name %></h3>
          <br>
          <p class="body_styling"><%= state.medium.content %></p>
        </div>

    <% end %>
  </div>
</div>
